<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="icon" href="<%= BASE_URL %>favicon.ico">
<title><%= htmlWebpackPlugin.options.title %></title>
<script
type="text/javascript"
src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.js">
</script>

<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.css"
rel="stylesheet"
/>

<script type="text/javascript" src="MicroEventBus.js">
</script>
</head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="vue-application"></div>
    <!-- built files will be auto injected -->

    <script>
        testBroadcast();
        function testBroadcast() {
            window.microEventBus.on('continue-shopping').subscribe(function (event){
                console.log('IDX : continue-shopping : ' + event)
            });
            window.microEventBus.on('place-order').subscribe(function (event){
                console.log('IDX : place-order : ' + event)
            });

        }
 
        function sendUserLogin() {
            window.microEventBus.broadcast('user-logged-in', 'test_user_1');
        }
        function sendAddToCart() {
            window.microEventBus.broadcast('add-user-cart-item', {
                username : "test_user_1",
                productId: 3, 
                amount : 303
            });
        }

        
    </script>
    <br>
    <button onclick="sendUserLogin()">Send 'user-login'</button>
    <button onclick="sendAddToCart()">Send 'add-user-cart-item'</button>
  </body>
</html>
